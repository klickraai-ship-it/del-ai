# Project Structure

Clean and organized structure for the Deliver-AI newsletter platform.

## ğŸ“ Root Directory

```
newsletter-app/
â”œâ”€â”€ client/                    # Frontend React application
â”œâ”€â”€ server/                    # Backend Node.js/Express server
â”œâ”€â”€ shared/                    # Shared code (schema, types)
â”œâ”€â”€ components/                # React components
â”œâ”€â”€ migrations/                # Database migrations
â”œâ”€â”€ dist/                      # Build output (generated)
â”œâ”€â”€ node_modules/              # Dependencies (generated)
â”‚
â”œâ”€â”€ .env.example               # Environment variables template
â”œâ”€â”€ .env.local                 # Local development environment
â”œâ”€â”€ .gitignore                 # Git ignore rules
â”œâ”€â”€ .dockerignore              # Docker ignore rules
â”‚
â”œâ”€â”€ package.json               # Node.js dependencies and scripts
â”œâ”€â”€ package-lock.json          # Locked dependency versions
â”œâ”€â”€ tsconfig.json              # TypeScript configuration (frontend)
â”œâ”€â”€ tsconfig.server.json       # TypeScript configuration (backend)
â”œâ”€â”€ vite.config.ts             # Vite build configuration
â”œâ”€â”€ tailwind.config.ts         # Tailwind CSS configuration
â”œâ”€â”€ postcss.config.js          # PostCSS configuration
â”œâ”€â”€ components.json            # Component library configuration
â”œâ”€â”€ drizzle.config.ts          # Database ORM configuration
â”‚
â”œâ”€â”€ Dockerfile                 # Docker container configuration
â”œâ”€â”€ deploy-to-vps.sh          # Automated VPS deployment script
â”œâ”€â”€ vps-setup.sh              # VPS initial setup script
â”‚
â”œâ”€â”€ README.md                  # Project overview
â”œâ”€â”€ VPS_DEPLOYMENT_GUIDE.md   # Complete VPS deployment guide
â”œâ”€â”€ SETUP_LOCAL.md            # Local development setup
â”œâ”€â”€ DEPLOYMENT.md             # General deployment guide
â”œâ”€â”€ COOLIFY_DEPLOYMENT.md     # Coolify-specific deployment
â”œâ”€â”€ DATABASE.md               # Database documentation
â”œâ”€â”€ SECURITY.md               # Security best practices
â”œâ”€â”€ ENVIRONMENT_VARIABLES.md  # Environment variables reference
â”œâ”€â”€ EMAIL_FEATURES_DOCUMENTATION.md  # Email features guide
â”œâ”€â”€ MULTI_TENANT_ARCHITECTURE.md     # Multi-tenancy documentation
â”œâ”€â”€ PAYMENT_INTEGRATION_TODO.md      # Payment integration guide
â””â”€â”€ PROJECT_STRUCTURE.md      # This file
```

## ğŸ“‚ Directory Details

### `/client` - Frontend Application
React application with Vite build system.

```
client/
â”œâ”€â”€ src/                       # Source code
â”‚   â”œâ”€â”€ components/           # React components
â”‚   â”œâ”€â”€ pages/                # Page components
â”‚   â”œâ”€â”€ hooks/                # Custom React hooks
â”‚   â”œâ”€â”€ utils/                # Utility functions
â”‚   â””â”€â”€ App.tsx               # Main app component
â”œâ”€â”€ public/                    # Static assets
â””â”€â”€ index.html                # HTML entry point
```

### `/server` - Backend Application
Node.js/Express server with TypeScript.

```
server/
â”œâ”€â”€ index.ts                   # Server entry point
â”œâ”€â”€ routes.ts                  # API route definitions
â”œâ”€â”€ db.ts                      # Database connection
â”œâ”€â”€ emailService.ts            # Email sending logic
â”œâ”€â”€ sesService.ts              # AWS SES integration
â”œâ”€â”€ encryption.ts              # Data encryption utilities
â”œâ”€â”€ tracking.ts                # Email tracking logic
â”œâ”€â”€ rateLimiter.ts             # Rate limiting middleware
â”œâ”€â”€ envValidator.ts            # Environment validation
â”œâ”€â”€ migrations.ts              # Database migration runner
â”œâ”€â”€ sanitizer.ts               # HTML sanitization
â”œâ”€â”€ seed.ts                    # Database seeding
â””â”€â”€ vite.ts                    # Vite dev server integration
```

### `/shared` - Shared Code
Code shared between frontend and backend.

```
shared/
â””â”€â”€ schema.ts                  # Database schema (Drizzle ORM)
```

### `/components` - React Components
Reusable React components.

```
components/
â”œâ”€â”€ admin/                     # Admin-specific components
â”œâ”€â”€ Dashboard.tsx              # Main dashboard
â”œâ”€â”€ CampaignsList.tsx          # Campaign management
â”œâ”€â”€ SubscribersList.tsx        # Subscriber management
â”œâ”€â”€ TemplatesList.tsx          # Template management
â”œâ”€â”€ RichTextEditor.tsx         # WYSIWYG email editor
â”œâ”€â”€ SettingsPage.tsx           # User settings
â”œâ”€â”€ LoginPage.tsx              # Authentication
â”œâ”€â”€ LandingPage.tsx            # Public landing page
â”œâ”€â”€ DemoTimer.tsx              # Demo mode timer
â”œâ”€â”€ Header.tsx                 # App header
â”œâ”€â”€ Sidebar.tsx                # Navigation sidebar
â””â”€â”€ ErrorBoundary.tsx          # Error handling
```

### `/migrations` - Database Migrations
SQL migration files generated by Drizzle Kit.

```
migrations/
â”œâ”€â”€ meta/                      # Migration metadata
â””â”€â”€ 0000_*.sql                 # Migration SQL files
```

## ğŸ—‘ï¸ Removed Files

The following unnecessary files have been cleaned up:

- `design_guidelines.md` - Design documentation (not needed for deployment)
- `start.sh` - Bash start script (replaced by PM2)
- `replit.md` - Replit-specific documentation
- `check-db.ts` - Duplicate database check script
- `index.html` - Duplicate HTML file (exists in client/)
- `metadata.json` - Unused metadata file
- `PUSH_TO_GITHUB.sh` - Duplicate git script
- `setup.bat` - Incomplete Windows setup script
- `.replit` - Replit configuration file
- `DEPLOYMENT_FIXES.md` - Outdated deployment fixes
- `types.ts` - Duplicate types file
- `GIT_PUSH_GUIDE.md` - Duplicate git documentation
- `READY_TO_DEPLOY.md` - Redundant deployment checklist
- `QUICK_START_VPS.md` - Merged into VPS_DEPLOYMENT_GUIDE.md
- `App.tsx` - Duplicate app file (exists in client/src/)
- `.encryption-key-dev` - Development encryption key
- `index.tsx` - Duplicate index file (exists in client/src/)

## ğŸ“ Key Files Explained

### Configuration Files

- **package.json**: Defines dependencies and npm scripts
- **tsconfig.json**: TypeScript compiler settings for frontend
- **tsconfig.server.json**: TypeScript compiler settings for backend
- **vite.config.ts**: Vite bundler configuration
- **drizzle.config.ts**: Database ORM configuration
- **Dockerfile**: Container build instructions

### Environment Files

- **.env.example**: Template for environment variables
- **.env.local**: Local development environment (not committed)
- **.env.production**: Production environment (not committed)

### Deployment Files

- **deploy-to-vps.sh**: Automated deployment script (run from local machine)
- **vps-setup.sh**: Initial VPS setup script (run on VPS)
- **Dockerfile**: For Docker/Coolify deployments

### Documentation Files

- **README.md**: Project overview and quick start
- **VPS_DEPLOYMENT_GUIDE.md**: Complete VPS deployment instructions
- **SETUP_LOCAL.md**: Local development setup guide
- **DATABASE.md**: Database schema and query patterns
- **SECURITY.md**: Security best practices
- **ENVIRONMENT_VARIABLES.md**: All environment variables explained

## ğŸš€ Quick Start

### Local Development
```bash
npm install
npm run dev
```

### Build for Production
```bash
npm run build
npm start
```

### Database Operations
```bash
npm run db:push      # Push schema to database
npm run db:studio    # Open database GUI
npm run db:seed      # Seed sample data
```

### VPS Deployment
```bash
# On your local machine
chmod +x deploy-to-vps.sh
./deploy-to-vps.sh

# Or on VPS directly
chmod +x vps-setup.sh
./vps-setup.sh
```

## ğŸ“Š File Count Summary

- **Total files**: ~50 (after cleanup)
- **Source files**: ~30
- **Configuration files**: ~10
- **Documentation files**: ~10

## ğŸ”’ Security Notes

Files that should NEVER be committed:
- `.env.local`
- `.env.production`
- `node_modules/`
- `dist/`
- Any files containing API keys or passwords

All sensitive files are already listed in `.gitignore`.

## ğŸ“¦ Build Output

When you run `npm run build`, these directories are generated:
- `dist/` - Frontend build output
- `dist/server/` - Backend compiled JavaScript

These are automatically ignored by git and should not be committed.

## ğŸ¯ Next Steps

1. Review `VPS_DEPLOYMENT_GUIDE.md` for deployment instructions
2. Configure `.env.local` for local development
3. Run `npm install` to install dependencies
4. Run `npm run dev` to start development server
5. Deploy to VPS using `deploy-to-vps.sh`

---

**Last Updated**: November 21, 2025
**Project Version**: 1.0.0
